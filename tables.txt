CREATE DATABASE `ims_db`
DEFAULT CHARACTER SET utf8
COLLATE utf8_general_ci;

CREATE TABLE ims_db.events
(
    Id_event    INT PRIMARY KEY AUTO_INCREMENT,
    Name        VARCHAR(150) NOT NULL,
    Date_time   DATETIME NOT NULL,
    Location    VARCHAR(100) NOT NULL
);

CREATE TABLE ims_db.partecipants
(
    Id_part     	INT PRIMARY KEY AUTO_INCREMENT,
    Id_event    	INT NOT NULL,
    Full_name    	VARCHAR(50) NOT NULL,
    Phone_number    VARCHAR(50) NOT NULL,
    Email_address   VARCHAR(254) NOT NULL,
    FOREIGN KEY (Id_event) REFERENCES events(Id_event)
);

CREATE TABLE ims_db.programs
(
    Id_prog     INT PRIMARY KEY,
    Description TEXT,
    Photo       VARCHAR(255),
    Past_date   INT CHECK (Past_date = 1 OR Past_date = 0),
    FOREIGN KEY (Id_prog) REFERENCES events(Id_event)
);

CREATE TABLE ims_db.articles
(
    Id_article  INT PRIMARY KEY,
    Post        TEXT,
    Album       VARCHAR(255),
    FOREIGN KEY (Id_article) REFERENCES events(Id_event)
);
